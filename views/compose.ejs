<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Write a Post â€” Inkwell</title>
  <link rel="stylesheet" href="./styles/styles.css" />
</head>
<body>

  <%- include("./includes/header.ejs") %>



  <main class="compose-page">
    <div class="compose-wrap">

      <!-- Page Header -->
      <div class="compose-header">
        <p style="font-size:0.72rem; font-weight:600; letter-spacing:0.14em; text-transform:uppercase; color:var(--color-accent); margin-bottom:8px;">New Article</p>
        <h1 class="section-title compose-title">Write Something Worth Reading</h1>
        <div class="divider"></div>
        <p style="color:var(--color-text-muted); font-size:0.9rem;">
          Fill in the fields below and publish when you're ready.
          <!-- NOTE: In EJS for edit mode: change heading to "Edit Post" and prefill values with post data -->
        </p>
      </div>


      <form class="compose-form" action="/compose" method="POST" enctype="multipart/form-data" novalidate>

        <div class="form-group">
          <label for="post-title">Post Title</label>
          <input
            type="text"
            id="post-title"
            name="title"
            class="form-control title-input"
            placeholder="Your compelling headlineâ€¦"
            required
            maxlength="120"
            autocomplete="off"
          />
        </div>

        <!-- Category -->
        <div class="form-group">
          <label for="post-category">Category</label>
          <!-- NOTE: In EJS for edit: mark the current post.category as selected -->
          <select
            id="post-category"
            name="category"
            class="form-control"
            required
          >
            <option value="" disabled selected>Choose a categoryâ€¦</option>
            <option value="Tech">Tech</option>
            <option value="Life">Life</option>
            <option value="Design">Design</option>
            <option value="Travel">Travel</option>
          </select>
        </div>

        <!-- Status (Draft / Published) -->
        <div class="form-group">
          <label for="post-status">Status</label>
          <select id="post-status" name="status" class="form-control">
            <option value="published">Published</option>
            <option value="draft">Draft</option>
          </select>
        </div>

        <!-- Image Upload -->
        <div class="form-group">
          <label>Cover Image</label>
          <!-- JS in script.js handles click-to-browse + drag-and-drop on this element -->
          <div class="file-input-wrap" role="button" tabindex="0" aria-label="Click or drag an image to upload" onkeydown="if(event.key==='Enter'||event.key===' ')this.querySelector('input').click()">
            <input
              type="file"
              id="post-image"
              name="image"
              accept="image/jpeg, image/png, image/webp, image/gif"
              aria-label="Upload cover image"
              tabindex="-1"
            />
            <div class="file-upload-icon" aria-hidden="true">ðŸ“·</div>
            <p class="file-upload-text">Click to browse or drag & drop your image here</p>
            <p class="file-upload-hint">Accepted: JPG, PNG, WEBP Â· Max 5MB</p>
          </div>
        </div>

        <!-- Content -->
        <div class="form-group">
          <label for="post-content">Content</label>
          <textarea
            id="post-content"
            name="content"
            class="form-control content-area"
            placeholder="Write your article here. Plain text, Markdown, or HTML â€” your choiceâ€¦"
            required
          ></textarea>
          <span style="font-size:0.75rem; color:var(--color-text-light); font-family:var(--font-mono); margin-top:4px;">
            Tip: Use ## for headings, > for blockquotes, ` for inline code.
          </span>
        </div>

        <!-- Actions -->
        <div class="compose-actions">
          <button type="submit" class="btn btn-primary" style="padding:12px 32px; font-size:0.95rem;">
            âœ¦ Publish Post
          </button>
          <a href="/admin" class="btn btn-ghost">Cancel</a>
          <span class="compose-status" id="autosave-status">Draft autosaved</span>
        </div>

      </form>
    </div>
  </main>


  <%- include('./includes/footer.ejs') %>

  <script src="./scripts/script.js"></script>
</body>
</html>